---
title: Linux 字符设备驱动开发
author: Jack
tags:
- Linux
- Driver
categories: 
- Linux
---

#### 字符设备驱动简介

+ 字符设备是Linux驱动中最基本的一类设备驱动，字符设备就是一个一个字节，按照字节流进行读写操作的设备，读写数据是分先后顺序的，这些设备的驱动就叫做字符设备驱动

+ 应用程序运行在用户空间，Linux驱动属于内核的一部分，因此驱动运行于内核空间，当在用户空间想要实现对内核的操作，比如使用`open`函数打开`/dev/led`这个设备，因为用户空间不能直接对内核进行操作，因此必须使用一个叫做“系统调用”的方法来实现从用户空间陷入到内核空间，这样才能实现对底层驱动的操作。

+ 应用程序调用`open()`函数的流程：应用调用open函数（应用程序） -> C库中的open（）函数 -> open（）系统调用

+ 每一个系统调用在驱动中都有与之对应的一个驱动函数，在Linux内核文件`include/linux/fs.h`中有一个叫做`file_operations`的结构体，此结构体就是Linux内核驱动操作函数集合，该结构体内容如下：
```

```
